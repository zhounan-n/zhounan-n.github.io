<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>zonway</title>
  
  <subtitle>一点一滴</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://zhoun.site/"/>
  <updated>2017-09-22T02:23:55.315Z</updated>
  <id>http://zhoun.site/</id>
  
  <author>
    <name>周楠</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>elasticsearch在linux环境中安装遇到的问题及解决方法</title>
    <link href="http://zhoun.site/2017/09/21/elasticsearch2/"/>
    <id>http://zhoun.site/2017/09/21/elasticsearch2/</id>
    <published>2017-09-21T08:29:13.000Z</published>
    <updated>2017-09-22T02:23:55.315Z</updated>
    
    <content type="html"><![CDATA[<p>昨天写了再windows环境中安装elasticsearh的文章，在使用中可能依然会遇到一些问题。今天这篇记录一下在linux环境中安装启动遇到的一些错误。我的系统是centos7</p><h4 id="错误1"><a href="#错误1" class="headerlink" title="错误1:"></a>错误1:</h4><pre><code>root用户启动报错，切换成非root用户启动</code></pre><h4 id="错误2"><a href="#错误2" class="headerlink" title="错误2:"></a>错误2:</h4><pre><code>Could not register mbeans java.security.AccessControlException解决方法：切换之后要把elasticsearch文件的所有权改成当前用户，命令如下(zhoun为当前用户名)：chown -R zhoun 目录名/</code></pre><a id="more"></a><h4 id="错误3"><a href="#错误3" class="headerlink" title="错误3:"></a>错误3:</h4><pre><code>BindTransportException[Failed to bind to [9300-9400]]解决犯法：修改/ect/elasticsearch/elasticsearch.yml配置文件，例如:127.0.0.1</code></pre><h4 id="错误4"><a href="#错误4" class="headerlink" title="错误4:"></a>错误4:</h4><pre><code>max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]解决方法:切换到root用户执行如下命令：echo &quot;vm.max_map_count=262144&quot; &gt;&gt;/etc/sysctl.conf修改后需重启才会生效</code></pre><h4 id="错误5："><a href="#错误5：" class="headerlink" title="错误5："></a>错误5：</h4><pre><code>bootstrap checks failed max file descriptors [65535] for elasticsearch process likely too low, increase to at least [65536]解决方法：切换到root用户，修改limits.conf配置文件，保存后记得重启(这个错误试了好久)vi /etc/security/limits.conf 添加如下内容:* soft nofile 65536* hard nofile 131072* soft nproc 2048* hard nproc 4096</code></pre><h6 id="解决了上面几个错误后elasticsearch成功在虚拟机中启动了-可能环境不一样遇到的错误也不一样，我这里只把我遇到的记录整理了"><a href="#解决了上面几个错误后elasticsearch成功在虚拟机中启动了-可能环境不一样遇到的错误也不一样，我这里只把我遇到的记录整理了" class="headerlink" title="解决了上面几个错误后elasticsearch成功在虚拟机中启动了(可能环境不一样遇到的错误也不一样，我这里只把我遇到的记录整理了)"></a>解决了上面几个错误后elasticsearch成功在虚拟机中启动了(可能环境不一样遇到的错误也不一样，我这里只把我遇到的记录整理了)</h6>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;昨天写了再windows环境中安装elasticsearh的文章，在使用中可能依然会遇到一些问题。今天这篇记录一下在linux环境中安装启动遇到的一些错误。我的系统是centos7&lt;/p&gt;
&lt;h4 id=&quot;错误1&quot;&gt;&lt;a href=&quot;#错误1&quot; class=&quot;headerlink&quot; title=&quot;错误1:&quot;&gt;&lt;/a&gt;错误1:&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;root用户启动报错，切换成非root用户启动
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&quot;错误2&quot;&gt;&lt;a href=&quot;#错误2&quot; class=&quot;headerlink&quot; title=&quot;错误2:&quot;&gt;&lt;/a&gt;错误2:&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;Could not register mbeans java.security.AccessControlException
解决方法：切换之后要把elasticsearch文件的所有权改成当前用户，命令如下(zhoun为当前用户名)：
chown -R zhoun 目录名/
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="elasticsearch" scheme="http://zhoun.site/categories/elasticsearch/"/>
    
    
      <category term="elasticsearch" scheme="http://zhoun.site/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>elasticsearch及head插件在windows环境下的安装</title>
    <link href="http://zhoun.site/2017/09/20/elasticsearch1/"/>
    <id>http://zhoun.site/2017/09/20/elasticsearch1/</id>
    <published>2017-09-20T09:57:28.000Z</published>
    <updated>2017-09-21T01:42:14.190Z</updated>
    
    <content type="html"><![CDATA[<p>最近在学习使用elasticsearch,但是没有linux环境，所以在网上搜集了各种资料后成功在本地windows系统下安装了，简单总结下。</p><h2 id="elasticsearch的安装"><a href="#elasticsearch的安装" class="headerlink" title="elasticsearch的安装"></a>elasticsearch的安装</h2><ul><li>elasticsearch的安装比较简单，直接去官网下载就可以，解压。执行bin文件下的bat文件即可启动，附上elasticsearch启动成功的界面。<br><img src="/images/1.png" alt="启动成功界面" title="elasticsearch成功启动界面"></li></ul><h2 id="head插件的安装"><a href="#head插件的安装" class="headerlink" title="head插件的安装"></a>head插件的安装</h2><a id="more"></a><ul><li>这里要用到node.js,下面需要用npm指令安装插件，百度一下安装即可。</li><li>安装grunt,head插件是通过grunt启动的。<br>路径切换到安装的node.js目录下，如：D:\nodejs,执行以下命令(如果你安装了git,可以直接在目录下右键git bash打开窗口,比cmd窗口要美观一些)<br>npm install -g grunt-cli<br>安装完成后用grunt -verion检查是否安装成功<br><img src="/images/2.png" alt="grunt安装界面" title="grunt安装界面"></li><li>用git下载head插件<br>git clone git://github.com/mobz/elasticsearch-head.git<h4 id="修改head源码："><a href="#修改head源码：" class="headerlink" title="修改head源码："></a>修改head源码：</h4>  – 因为head插件的版本是2.6的，直接执行有很多限制，需要修改接个地方<br>  目录：head/Gruntfile.js：<br>connect: {<br>&emsp;&emsp;server: {<br>   &emsp;&emsp;options: {<pre><code> &amp;emsp;&amp;emsp; port: 9100, &amp;emsp;&amp;emsp;hostname: &apos;*&apos;,&amp;emsp;&amp;emsp; base: &apos;.&apos;, &amp;emsp;&amp;emsp;keepalive: true</code></pre>   &emsp;&emsp;}<br>&emsp;&emsp;}<br>}<br>增加hostname属性，设置为*<h4 id="修改链接地址："><a href="#修改链接地址：" class="headerlink" title="修改链接地址："></a>修改链接地址：</h4>   目录：head/_site/app.js<br>   this.base_uri = this.config.base_uri || this.prefs.get(“app-base_uri”) ||”<a href="http://localhost:9200" target="_blank" rel="external">http://localhost:9200</a>“;<br>   把localhost修改成你es的服务器地址，如：<br>   this.base_uri = this.config.base_uri || this.prefs.get(“app-base_uri”) ||”<a href="http://10.10.10.10:9200" target="_blank" rel="external">http://10.10.10.10:9200</a>“;</li></ul><h4 id="运行head"><a href="#运行head" class="headerlink" title="运行head"></a>运行head</h4><pre><code>修改elasticsearch的配置文件 config/elasticsearch.yml(参数后面要有空格)：换个集群的名字，免得跟别人的集群混在一起cluster.name: es-5.0-test换个节点名字node.name: node-101修改一下ES的监听地址，这样别的机器也可以访问network.host: 0.0.0.0端口默认的就好http.port: 9200增加新的参数，这样head插件可以访问eshttp.cors.enabled: truehttp.cors.allow-origin: &quot;*&quot;</code></pre><h3 id="启动elasticsearch"><a href="#启动elasticsearch" class="headerlink" title="启动elasticsearch"></a>启动elasticsearch</h3><h3 id="然后在head源码目录中，执行npm-install-下载的包："><a href="#然后在head源码目录中，执行npm-install-下载的包：" class="headerlink" title="然后在head源码目录中，执行npm install 下载的包："></a>然后在head源码目录中，执行npm install 下载的包：</h3><pre><code>npm install (这个命令执行可能要等一会儿，运行报错就重新执行一遍直到完成)</code></pre><h3 id="启动head插件"><a href="#启动head插件" class="headerlink" title="启动head插件"></a>启动head插件</h3><pre><code>localhost:9100这样就可以访问head插件了</code></pre><p><img src="/images/3.png" alt="head插件启动成功界面" title="head插件启动界面"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近在学习使用elasticsearch,但是没有linux环境，所以在网上搜集了各种资料后成功在本地windows系统下安装了，简单总结下。&lt;/p&gt;
&lt;h2 id=&quot;elasticsearch的安装&quot;&gt;&lt;a href=&quot;#elasticsearch的安装&quot; class=&quot;headerlink&quot; title=&quot;elasticsearch的安装&quot;&gt;&lt;/a&gt;elasticsearch的安装&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;elasticsearch的安装比较简单，直接去官网下载就可以，解压。执行bin文件下的bat文件即可启动，附上elasticsearch启动成功的界面。&lt;br&gt;&lt;img src=&quot;/images/1.png&quot; alt=&quot;启动成功界面&quot; title=&quot;elasticsearch成功启动界面&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;head插件的安装&quot;&gt;&lt;a href=&quot;#head插件的安装&quot; class=&quot;headerlink&quot; title=&quot;head插件的安装&quot;&gt;&lt;/a&gt;head插件的安装&lt;/h2&gt;
    
    </summary>
    
      <category term="elastisearch" scheme="http://zhoun.site/categories/elastisearch/"/>
    
    
      <category term="elasticsearch" scheme="http://zhoun.site/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>转一篇无意中在别人博客里发现的文章(如何尊重程序员，附上原文链接)</title>
    <link href="http://zhoun.site/2017/09/15/second/"/>
    <id>http://zhoun.site/2017/09/15/second/</id>
    <published>2017-09-15T09:20:03.000Z</published>
    <updated>2017-09-19T06:26:21.732Z</updated>
    
    <content type="html"><![CDATA[<h3 id="原文链接"><a href="#原文链接" class="headerlink" title="原文链接"></a>原文链接</h3><p><a href="http://www.yinwang.org/blog-cn/2015/03/03/how-to-respect-a-programmer" target="_blank" rel="external">http://www.yinwang.org/blog-cn/2015/03/03/how-to-respect-a-programmer</a></p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;原文链接&quot;&gt;&lt;a href=&quot;#原文链接&quot; class=&quot;headerlink&quot; title=&quot;原文链接&quot;&gt;&lt;/a&gt;原文链接&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://www.yinwang.org/blog-cn/2015/03/03/how-to-respect-a-programmer&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.yinwang.org/blog-cn/2015/03/03/how-to-respect-a-programmer&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="杂谈" scheme="http://zhoun.site/categories/%E6%9D%82%E8%B0%88/"/>
    
    
      <category term="杂谈" scheme="http://zhoun.site/tags/%E6%9D%82%E8%B0%88/"/>
    
  </entry>
  
  <entry>
    <title>为什么创建此博客</title>
    <link href="http://zhoun.site/2017/09/08/first_create/"/>
    <id>http://zhoun.site/2017/09/08/first_create/</id>
    <published>2017-09-08T03:14:02.942Z</published>
    <updated>2017-09-15T09:53:27.884Z</updated>
    
    <content type="html"><![CDATA[<p>一直想着搭一个个人的技术博客。java开发两年多，之前也有整理记录遇到的一些问题或是技术资料，但线下保存来保存去没有一个归纳，不弄丢也很少去看了。所以打算打一个博客好好记录归纳一下</p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一直想着搭一个个人的技术博客。java开发两年多，之前也有整理记录遇到的一些问题或是技术资料，但线下保存来保存去没有一个归纳，不弄丢也很少去看了。所以打算打一个博客好好记录归纳一下&lt;/p&gt;
    
    </summary>
    
      <category term="杂谈" scheme="http://zhoun.site/categories/%E6%9D%82%E8%B0%88/"/>
    
    
      <category term="杂谈" scheme="http://zhoun.site/tags/%E6%9D%82%E8%B0%88/"/>
    
  </entry>
  
</feed>
